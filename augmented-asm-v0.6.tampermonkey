{"created_by":"Tampermonkey","version":"1","scripts":[{"name":"Augmented-ASM","options":{"check_for_updates":false,"comment":null,"compatopts_for_requires":true,"compat_wrappedjsobject":false,"compat_metadata":false,"compat_foreach":false,"compat_prototypes":false,"noframes":null,"run_at":"document-end","override":{"use_includes":[],"orig_includes":[],"merge_includes":true,"use_matches":[],"orig_matches":["https://servicecentre.csiro.au/Production/core.aspx"],"merge_matches":true,"use_excludes":[],"orig_excludes":[],"merge_excludes":true,"use_connects":[],"merge_connects":true,"use_blockers":[],"orig_run_at":"document-end","orig_noframes":null,"orig_connects":["http://localhost:3000"]}},"storage":{"ts":1622287283165,"data":{}},"enabled":true,"position":1,"uuid":"a22c086c-6526-4143-a2c3-6a0cc966589f","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgICBBdWdtZW50ZWQtQVNNCi8vIEBuYW1lc3BhY2UgICAgaHR0cDovL3RhbXBlcm1vbmtleS5uZXQvCi8vIEB2ZXJzaW9uICAgICAgMC42Ci8vIEBkZXNjcmlwdGlvbiAgbW9kaWZ5IGNvc21ldGljIGVsZW1lbnRzIG9mIEFTTSB0byBiZSBtb3JlIHByb2R1Y3RpdmUKLy8gQGF1dGhvciAgICAgICBHZW9yZ2UgKGVkdzE5YikKLy8gQG1hdGNoICAgICAgICBodHRwczovL3NlcnZpY2VjZW50cmUuY3Npcm8uYXUvUHJvZHVjdGlvbi9jb3JlLmFzcHgKLy8gQHJ1bi1hdCAgICAgICBkb2N1bWVudC1lbmQKLy8gQGNvbm5lY3QgICAgICBodHRwOi8vbG9jYWxob3N0OjMwMDAKLy8gPT0vVXNlclNjcmlwdD09Cgp2YXIgYWFzbXZlcnNpb24gPSAiMC42IjsKCi8qIFN0eWxpbmdzIGZvciBhbnl0aGluZyBhZGRlZCB0byB0aGUgcGFnZQogICAoY29udHJvbHMsIGJ1dHRvbnMgZXRjLikgKi8KdmFyIGNzc0NvbnRyb2xzID0gYApAaW1wb3J0IHVybCgnaHR0cHM6Ly9mb250cy5nb29nbGVhcGlzLmNvbS9jc3MyP2ZhbWlseT1DYXZlYXQmZGlzcGxheT1zd2FwJyk7CgojYWFzbV9jb250cm9scywgI2Fhc21fY29udHJvbHMtMiB7CiAgZGlzcGxheTogZmxleDsKICBmbGV4LWZsb3c6IGNvbHVtbiBub3dyYXA7CiAgcG9zaXRpb246IHJlbGF0aXZlOwogIG1hcmdpbi10b3A6IDFyZW07CiAgbWFyZ2luLWJvdHRvbTogMC41cmVtOwp9CgojYWFzbV9jb250cm9scy0yIHsKICBkaXNwbGF5OiBub25lOwp9CgouYWFzbS1idXR0b24gewoJLy8gcGFkZGluZzogMC4zNXJlbSAxLjJyZW07CgltYXJnaW4tcmlnaHQ6IDFyZW07Cglib3JkZXItcmFkaXVzOiAwLjRyZW07Cgl0ZXh0LWFsaWduOiBjZW50ZXI7Cgl0cmFuc2l0aW9uOiBhbGwgMC4yczsKCWZvbnQtZmFtaWx5OiAiTHVjaWRhIENvbnNvbGUiLCAiQ291cmllciBOZXciLCBtb25vc3BhY2U7Cglmb250LXNpemU6IDEuMnJlbTsKCXRleHQtdHJhbnNmb3JtOiB1cHBlcmNhc2U7CiAgICAvLyBib3gtc2hhZG93OiAwIDAgMCAxcHggZ3JheTsKICAgIGJvcmRlcjogMnB4IHNvbGlkIGdyZXk7CiAgICBiYWNrZ3JvdW5kOiBub25lOwp9CgouYWFzbS1idXR0b246aG92ZXIgewogIGNvbG9yOiB3aGl0ZTsKICBiYWNrZ3JvdW5kLWNvbG9yOiBncmV5Owp9CgouYWFzbS1idXR0b24tYWN0aXZlIHsKICBiYWNrZ3JvdW5kLWNvbG9yOiAjYzhjOGM4OwogIGNvbG9yOiAjNGQ0ZDRkOwp9CgouYWFzbS1mbGV4LWl0ZW0gewogIGRpc3BsYXk6IGZsZXg7CiAgbWFyZ2luOiAwLjI1cmVtIDAgMC4yNXJlbSAxcmVtOwp9CgojYWFzbV9jb250cm9scyAuc2xpZGVyIHsKICB3aWR0aDogMjByZW07Cn0KCiNhYXNtX2NvbnRyb2xzIC5zbGlkZXItbGFiZWwgewoJdGV4dC1hbGlnbjogY2VudGVyOwoJcGFkZGluZy1sZWZ0OiAxcmVtOwogICAgcGFkZGluZy10b3A6IDAuM3JlbTsKCWZvbnQtc2l6ZTogMS4ycmVtOwoJbGV0dGVyLXNwYWNpbmc6IDAuM3JlbTsKCWZvbnQtZmFtaWx5OiAiTHVjaWRhIENvbnNvbGUiLCAiQ291cmllciBOZXciLCBtb25vc3BhY2U7Cn0KCiNhYXNtX2NvbnRyb2xzIC53YXRlcm1hcmsgewogICAgcG9zaXRpb246IGFic29sdXRlOwogICAgbGVmdDogNDByZW07CiAgICB0b3A6IDRyZW07CiAgICBmb250LXNpemU6IDMuNXJlbTsKICAgIG9wYWNpdHk6IDAuMjsKICAgIGZvbnQtZmFtaWx5OiAnQ2F2ZWF0JywgY3Vyc2l2ZTsKfQoKYDsKCi8qIFN0eWxlcyBmb3IgdGhlIHNvLWNhbGxlZCAicmVhZGFiaWxpdHkgbW9kZSIuIEl0J2xsIGJlIHdyYXBwZWQKaW4gPHN0eWxlPiB0YWdzIGFuZCBpbmplY3RlZCBhdCB2YXJpb3VzIGxvY2F0aW9ucyBiZWNhdXNlIEFsZW1iYQp1c2UgaWZyYW1lcyBmb3IgdGFicy4gIWltcG9ydGFudCB1bmZvcnR1bmF0ZWx5IHJlcXVpcmVkIGFzIEFsZW1iYQptYWtlIHVzZSBvZiB0aGVtIGFsbCBvdmVyIHRoZSBzaG9wICovCnZhciBjc3NSZWFkYWJpbGl0eU1vZGUgPSBgCi8qIE1ha2VzIGZpZWxkcyBlYXNpZXIgdG8gcmVhZCAqLwouRmllbGRbcmVhZG9ubHldLCBJTlBVVFtkaXNhYmxlZF0sIC5GaWVsZC1Ecm9wZG93bltkaXNhYmxlZF17CiAgY29sb3I6ICM0RjAyMDIgIWltcG9ydGFudDsKICBib3JkZXItY29sb3I6ICM0RjAyMDIgIWltcG9ydGFudDsKfQoKaW5wdXQuZm9ybS1jb250cm9sW2Rpc2FibGVkXSB7CiAgb3BhY2l0eTogMSAhaW1wb3J0YW50Owp9CgpkaXZbcmVhZG9ubHlpc3JlYWRvbmx5XSA+IGxhYmVsIHsKCWNvbG9yOiBpbmhlcml0Owp9CgppbnB1dC5yZWFkb25seSwgLnNlYXJjaC1jb250cm9sIC5zZWFyY2gtY29udHJvbC1pbnB1dC5yZWFkb25seSwgLnRpZXJlZC1saXN0LWNvbnRhaW5lciAuaW5wdXQtZ3JvdXAgPiBpbnB1dC5mb3JtLWNvbnRyb2wsIGlucHV0W2lkKj0iVEVMRVBIT05FIl1bcmVhZG9ubHldICsgYS50ZWxlcGhvbiB7CiAgYm9yZGVyLWNvbG9yOiAjNEYwMjAyICFpbXBvcnRhbnQ7Cn0KCgovKiBJbmNyZWFzZSBoZWlnaHQgb2YgbGlzdCAod2hlbiBmb3JhcmRpbmcgYSB0aWNrZXQpICovCi5FeHBsb3JlciB7CiBoZWlnaHQ6IDcwdmg7Cn0KCi8qIEluY3JlYXNlIGhlaWdodCBvZiAiU2VydmljZSIgcG9wdXAgYm94ICovCi5zZWFyY2gtY29udHJvbCAuc2VhcmNoLWNvbnRyb2wtb3V0cHV0LXRhYmxlIHsKCW1heC1oZWlnaHQ6IDcwdmg7Cn0KCi8qIEluY3JlYXNlIGhlaWdodCBvZiAiVHlwZSIgcG9wdXAgYm94ICovCi50aWVyZWQtbGlzdC1jb250YWluZXIgLmxpc3QtY29udGFpbmVyIHsKICAgICBtYXgtaGVpZ2h0OiBub25lOwp9CgpgOwoKKGZ1bmN0aW9uKCkgewogICAgJ3VzZSBzdHJpY3QnOwoKICAgIC8vIEhUTUwgU0NBRkZPTERJTkcgLSBDT05UUk9MUwogICAgLy8gTk9URTogZGl2J3Mgd2hlcmUgb25lIG1pZ2h0IHB1dCA8bGFiZWw+IG9yIDxzcGFuPgogICAgLy8gdGhpcyBpcyB0byBhdm9pZCB1bndhbnRlZCBDU1MKICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJBbGVtYmFUb29sYmFyIikuaW5uZXJIVE1MICs9IGAKICAgIDxkaXYgaWQ9ImFhc21fY29udHJvbHMiPgogICAgICA8ZGl2IGNsYXNzPSJhYXNtLWZsZXgtaXRlbSI+CiAgICAgICAgPGJ1dHRvbiBpZD0iYnRuLWhpZGUiIGNsYXNzPSJhYXNtLWJ1dHRvbiI+aGlkZTwvYnV0dG9uPgogICAgICAgIDxidXR0b24gaWQ9ImJ0bi13YXN0ZWQtc3BhY2UiIGNsYXNzPSJhYXNtLWJ1dHRvbiI+dG9nZ2xlIHdhc3RlZCBzcGFjZTwvYnV0dG9uPgogICAgICAgIDxidXR0b24gaWQ9ImJ0bi1uYXZiYXItZml4IiBjbGFzcz0iYWFzbS1idXR0b24iPnRvZ2dsZSBuYXZiYXIgZml4PC9idXR0b24+CiAgICAgICAgPGJ1dHRvbiBpZD0iYnRuLXJlYWRhYmlsaXR5LW1vZGUiIGNsYXNzPSJhYXNtLWJ1dHRvbiI+dG9nZ2xlIHJlYWRhYmlsaXR5IG1vZGU8L2J1dHRvbj4KICAgICAgICA8YnV0dG9uIGlkPSJidG4tZGVmYXVsdCIgY2xhc3M9ImFhc20tYnV0dG9uIj5kZWZhdWx0PC9idXR0b24+CiAgICAgICAgPGJ1dHRvbiBpZD0iYnRuLWFib3V0IiBjbGFzcz0iYWFzbS1idXR0b24iPmFib3V0PC9idXR0b24+CiAgICAgIDwvZGl2PgogICAgICA8ZGl2IGNsYXNzPSJhYXNtLWZsZXgtaXRlbSI+CiAgICAgICAgPGlucHV0IGlkPSJzbGlkZXItY29udGVudHMiIGNsYXNzPSJzbGlkZXIiIHR5cGU9InJhbmdlIiBtaW49IjEuMCIgbWF4PSIyLjAiIHN0ZXA9IjAuMDUiPgogICAgICAgIDxkaXYgY2xhc3M9InNsaWRlci1sYWJlbCI+dGFiLWNvbnRlbnRzPC9kaXY+CiAgICAgIDwvZGl2PgogICAgICA8ZGl2IGNsYXNzPSJhYXNtLWZsZXgtaXRlbSI+CiAgICAgICAgPGlucHV0IGlkPSJzbGlkZXItbWF4d2lkdGgiIGNsYXNzPSJzbGlkZXIiIHR5cGU9InJhbmdlIiBtaW49IjAiIG1heD0iMS4wIiBzdGVwPSIwLjAyNSI+CiAgICAgICAgPGRpdiBjbGFzcz0ic2xpZGVyLWxhYmVsIj50YWItbWlud2lkdGg8L2Rpdj4KICAgICAgPC9kaXY+CiAgICAgIDxkaXYgY2xhc3M9ImFhc20tZmxleC1pdGVtIj4KICAgICAgICA8aW5wdXQgaWQ9InNsaWRlci1kZXNjcmlwdGlvbiIgY2xhc3M9InNsaWRlciIgdHlwZT0icmFuZ2UiIG1pbj0iMS4zIiBtYXg9IjcuMCIgc3RlcD0iMC4wNSI+CiAgICAgICAgPGRpdiBjbGFzcz0ic2xpZGVyLWxhYmVsIj5kZXNjcmlwdGlvbjwvZGl2PgogICAgICAgIDxkaXYgY2xhc3M9IndhdGVybWFyayI+QXVnbWVudGVkLUFTTSB2JHthYXNtdmVyc2lvbn08L2Rpdj4KICAgICAgPC9kaXY+CiAgICA8L2Rpdj4KICAgIDxkaXYgaWQ9ImFhc21fY29udHJvbHMtMiI+CiAgICAgIDxkaXYgY2xhc3M9ImFhc20tZmxleC1pdGVtIj4KICAgICAgICA8YnV0dG9uIGlkPSJidG4tc2hvdyIgY2xhc3M9ImFhc20tYnV0dG9uIj5zaG93PC9idXR0b24+CiAgICAgIDwvZGl2PgogICAgPC9kaXY+CiAgICBgOwoKICAgIC8vIElOSkVDVCBDU1MKICAgIHZhciBjc3NDb250cm9sc0VsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpOwogICAgY3NzQ29udHJvbHNFbGVtZW50LnR5cGUgPSAidGV4dC9jc3MiOwogICAgY3NzQ29udHJvbHNFbGVtZW50LmlubmVySFRNTCA9IGNzc0NvbnRyb2xzOwogICAgKGRvY3VtZW50LmhlYWQgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KS5hcHBlbmRDaGlsZChjc3NDb250cm9sc0VsZW1lbnQpOwoKICAgIC8vIEJVVFRPTiBISURFCiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIjYWFzbV9jb250cm9scyAjYnRuLWhpZGUiKS5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsIGhpZGUpOwogICAgZnVuY3Rpb24gaGlkZSgpCiAgICB7CiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiI2Fhc21fY29udHJvbHMiKS5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOwogICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIiNhYXNtX2NvbnRyb2xzLTIiKS5zdHlsZS5kaXNwbGF5ID0gImZsZXgiOwogICAgfQoKICAgIC8vIEJVVFRPTiBTSE9XCiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIjYWFzbV9jb250cm9scy0yICNidG4tc2hvdyIpLmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIiwgc2hvdyk7CiAgICBmdW5jdGlvbiBzaG93KCkKICAgIHsKICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIjYWFzbV9jb250cm9scyIpLnN0eWxlLmRpc3BsYXkgPSAiZmxleCI7CiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiI2Fhc21fY29udHJvbHMtMiIpLnN0eWxlLmRpc3BsYXkgPSAibm9uZSI7CiAgICB9CgogICAgLy8gQlVUVE9OIFdBU1RFRCBTUEFDRQogICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiI2Fhc21fY29udHJvbHMgI2J0bi13YXN0ZWQtc3BhY2UiKS5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsIHdhc3RlZFNwYWNlKTsKICAgIHZhciBidG5fc3BhY2Vfb24gPSBmYWxzZTsKICAgIGZ1bmN0aW9uIHdhc3RlZFNwYWNlKCkKICAgIHsKICAgICAgICBsZXQgZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIi5vdXRlci10YWItdmlldyIpOwogICAgICAgIGxldCBidG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIjYnRuLXdhc3RlZC1zcGFjZSIpOwogICAgICAgIGlmIChidG5fc3BhY2Vfb24pCiAgICAgICAgewogICAgICAgICAgICBlLnN0eWxlLm1hcmdpbkxlZnQgPSAiMjBweCI7IC8vIGRlZmF1bHQgbWFyZ2luIHdhcyAyMHB4CiAgICAgICAgICAgIGJ0bi5jbGFzc0xpc3QucmVtb3ZlKCJhYXNtLWJ1dHRvbi1hY3RpdmUiKTsKICAgICAgICAgICAgYnRuX3NwYWNlX29uID0gZmFsc2U7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgZS5zdHlsZS5tYXJnaW5MZWZ0ID0gIjByZW0iOwogICAgICAgICAgICBidG4uY2xhc3NMaXN0LmFkZCgiYWFzbS1idXR0b24tYWN0aXZlIik7CiAgICAgICAgICAgIGJ0bl9zcGFjZV9vbiA9IHRydWU7CiAgICAgICAgfQogICAgfQoKICAgIC8vIEJVVFRPTiBOQVZCQVIgRklYCiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIjYWFzbV9jb250cm9scyAjYnRuLW5hdmJhci1maXgiKS5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsIG5hdmJhckZpeCk7CiAgICB2YXIgYnRuX25hdl9vbiA9IGZhbHNlOwogICAgZnVuY3Rpb24gbmF2YmFyRml4KCkKICAgIHsKICAgICAgICBsZXQgZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIiNBbGVtYmFUb29sYmFyIC5uYXZiYXItbmF2Iik7CiAgICAgICAgbGV0IGJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIiNidG4tbmF2YmFyLWZpeCIpOwogICAgICAgIGlmIChidG5fbmF2X29uKQogICAgICAgIHsKICAgICAgICAgICAgZS5zdHlsZS5taW5XaWR0aCA9ICI0MTBweCI7IC8vIGRlZmF1bHQgd2FzIDQxMHB4CiAgICAgICAgICAgIGJ0bi5jbGFzc0xpc3QucmVtb3ZlKCJhYXNtLWJ1dHRvbi1hY3RpdmUiKTsKICAgICAgICAgICAgYnRuX25hdl9vbiA9IGZhbHNlOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGUuc3R5bGUubWluV2lkdGggPSAiNTcwcHgiOwogICAgICAgICAgICBidG4uY2xhc3NMaXN0LmFkZCgiYWFzbS1idXR0b24tYWN0aXZlIik7CiAgICAgICAgICAgIGJ0bl9uYXZfb24gPSB0cnVlOwogICAgICAgIH0KICAgIH0KCiAgICAvLyBCVVRUT04gUkVBREFCSUxJVFkgTU9ERQogICAgdmFyIGJ0bl9yZWFkX29uID0gZmFsc2U7CiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIjYnRuLXJlYWRhYmlsaXR5LW1vZGUiKS5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsIHJlYWRhYmlsaXR5TW9kZSk7CiAgICBmdW5jdGlvbiByZWFkYWJpbGl0eU1vZGUoKQogICAgewogICAgICAgIGxldCBidG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIjYnRuLXJlYWRhYmlsaXR5LW1vZGUiKTsKCiAgICAgICAgZnVuY3Rpb24gYWN0aW9uKGJvb2xfYXBwbHlfb3JfcmVtb3ZlKQogICAgICAgIHsKICAgICAgICAgICAgLy8gQVNNIGRlbGl2ZXIgdGFiYmVkIGNvbnRlbnQgdGhyb3VnaCBpRnJhbWVzLiBXZSBtdXN0IGl0ZXJhdGUgdGhyb3VnaCB0aGVtIGFsbAogICAgICAgICAgICAvLyBhbmQgYXBwZW5kIG91ciBvd24gPHN0eWxlPiB0YWcgaW4gZWFjaCBmcmFtZSwgZW5zdXJpbmcgYWxsIHRhYnMgYXJlIHJlLXN0eWxlZC4KICAgICAgICAgICAgLy8gVGhpcyBhbGxvd3MgdXMgdG8gdW5kbyBieSByZW1vdmluZyBlYWNoIDxzdHlsZT4gdGFnIGFwcHJvcHJpYXRlbHkuCiAgICAgICAgICAgIGxldCBhc21faWZyYW1lcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoIi5idXN5LWNvbnRlbnQiKTsKCiAgICAgICAgICAgIC8vIEFQUExZCiAgICAgICAgICAgIGlmIChib29sX2FwcGx5X29yX3JlbW92ZSkgewogICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhc21faWZyYW1lcy5sZW5ndGg7IGkrKykKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICB0cnkKICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghYXNtX2lmcmFtZXNbaV0uY29udGVudFdpbmRvdy5kb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIjTWFpbiIpLmNvbnRlbnRXaW5kb3cuZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYHJlYWRhYmlsaXR5X21vZGVfY3NzJHtpfWApKQogICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBjcmVhdGUgPHN0eWxlPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHJlYWRhYmlsaXR5X21vZGVfY3NzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlYWRhYmlsaXR5X21vZGVfY3NzLnR5cGUgPSAidGV4dC9jc3MiOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVhZGFiaWxpdHlfbW9kZV9jc3Muc2V0QXR0cmlidXRlKCJpZCIsIGByZWFkYWJpbGl0eV9tb2RlX2NzcyR7aX1gKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlYWRhYmlsaXR5X21vZGVfY3NzLmlubmVySFRNTCA9IGNzc1JlYWRhYmlsaXR5TW9kZTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnkgLy8gdHJ5IHRvIGluamVjdCA8c3R5bGU+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXNtX2lmcmFtZXNbaV0uY29udGVudFdpbmRvdy5kb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIjTWFpbiIpLmNvbnRlbnRXaW5kb3cuZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChyZWFkYWJpbGl0eV9tb2RlX2Nzcyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXRjaChlcnIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBub3RoaW5nIHRvIGRvCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgY2F0Y2goZXJyKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIC8vIG5vdGhpbmcgdG8gZG8KICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CgogICAgICAgICAgICAvLyBSRU1PVkUKICAgICAgICAgICAgaWYgKCFib29sX2FwcGx5X29yX3JlbW92ZSkgewogICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhc21faWZyYW1lcy5sZW5ndGg7IGkrKykKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICB0cnkgLy8gdHJ5IHRvIGRlbGV0ZSA8c3R5bGU+IGZyb20gaWZyYW1lIGNvbnRleHQKICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgIGFzbV9pZnJhbWVzW2ldLmNvbnRlbnRXaW5kb3cuZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiI01haW4iKS5jb250ZW50V2luZG93LmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGByZWFkYWJpbGl0eV9tb2RlX2NzcyR7aX1gKS5yZW1vdmUoKTsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coYXNtX2lmcmFtZXNbaV0pOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBjYXRjaChlcnIpCiAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhgYXNtX2lmcmFtZXNbJHtpfV0gaXMgbm90IHRoZSBpZnJhbWUgd2UncmUgbG9va2luZyBmb3IuYCk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIHJlYWRhYmlsaXR5TW9kZS5hY3Rpb24gPSBhY3Rpb247CiAgICAgICAgaWYgKGJ0bl9yZWFkX29uKSB7CiAgICAgICAgICAgIGJ0bi5jbGFzc0xpc3QucmVtb3ZlKCJhYXNtLWJ1dHRvbi1hY3RpdmUiKTsgLy9zdHlsZXMgdGhlIGJ1dHRvbiB0byAib2ZmIgogICAgICAgICAgICBhY3Rpb24oZmFsc2UpOwogICAgICAgICAgICBidG5fcmVhZF9vbiA9IGZhbHNlOwogICAgICAgIH0gZWxzZSBpZiAoIWJ0bl9yZWFkX29uKSB7CiAgICAgICAgICAgIGJ0bi5jbGFzc0xpc3QuYWRkKCJhYXNtLWJ1dHRvbi1hY3RpdmUiKTsgLy8gc3R5bGVzIHRoZSBidXR0b24gdG8gIm9uIgogICAgICAgICAgICBhY3Rpb24odHJ1ZSk7CiAgICAgICAgICAgIGJ0bl9yZWFkX29uID0gdHJ1ZTsKICAgICAgICB9CgogICAgfQoKICAgIC8vIEJVVFRPTiBSRVNFVCBUTyBERUZBVUxUCiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIjYWFzbV9jb250cm9scyAjYnRuLWRlZmF1bHQiKS5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsIHNldERlZmF1bHQpOwogICAgZnVuY3Rpb24gc2V0RGVmYXVsdCgpCiAgICB7CiAgICAgICAgLy8gcmVzZXQgMXN0IHNsaWRlciAodGFiIGNvbnRlbnQgc2l6ZSkKICAgICAgICBsZXQgdGFicyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoIi50YWIiKTsKICAgICAgICBsZXQgdGFic19pY29uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgiLnRhYi1sYWJlbC1pbWFnZSIpOwogICAgICAgIGxldCB0YWJzX3RleHQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCIudGFiLWxhYmVsLXRleHQiKTsKICAgICAgICBsZXQgdGFic19jbG9zZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoIi50YWItbGFiZWwtY2xvc2UiKTsKICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRhYnNfdGV4dC5sZW5ndGg7IGkrKykKICAgICAgICB7CiAgICAgICAgICAgIHRhYnNfaWNvbltpXS5zdHlsZS53aWR0aCA9ICIxNnB4IjsKICAgICAgICAgICAgdGFic19pY29uW2ldLnN0eWxlLmhlaWdodCA9ICIxNnB4IjsKICAgICAgICAgICAgdGFic190ZXh0W2ldLnN0eWxlLmZvbnRTaXplID0gImluaGVyaXQiOwogICAgICAgICAgICB0YWJzX3RleHRbaV0uc3R5bGUubWFyZ2luTGVmdCA9ICIyMHB4IjsKICAgICAgICAgICAgdGFic190ZXh0W2ldLnN0eWxlLm1hcmdpblJpZ2h0ID0gIjI1cHgiOwogICAgICAgICAgICB0YWJzX2Nsb3NlW2ldLnN0eWxlLndpZHRoID0gIjE2cHgiOwogICAgICAgICAgICB0YWJzX2Nsb3NlW2ldLnN0eWxlLmhlaWdodCA9ICIxNnB4IjsKICAgICAgICB9CgogICAgICAgIC8vIHJlc2V0IDJuZCBzbGlkZXIgKHRhYiB3aWR0aCkKICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRhYnNfdGV4dC5sZW5ndGg7IGkrKykKICAgICAgICB7CiAgICAgICAgICAgIHRhYnNfdGV4dFtpXS5zdHlsZS5tYXhXaWR0aCA9ICIyMDBweCI7CiAgICAgICAgfQoKICAgICAgICAvLyByZXNldCB0aGlyZCBzbGlkZXIgKGRlc2NyaXB0aW9uKQogICAgICAgIHNsaWRlcl9kZXNjcmlwdGlvbi52YWx1ZSA9IDE7CiAgICAgICAgc2xpZGVyX2Rlc2NyaXB0aW9uLm9uaW5wdXQoKTsKCgogICAgICAgIC8vIHRvZ2dsZSBidXR0b25zIGlmIHRoZXkncmUgb24uCiAgICAgICAgKGJ0bl9zcGFjZV9vbikgPyB3YXN0ZWRTcGFjZSgpIDogY29uc29sZS5sb2coYFt3YXN0ZWQgc3BhY2VdIGFscmVhZHkgb2ZmYCk7CiAgICAgICAgKGJ0bl9uYXZfb24pID8gbmF2YmFyRml4KCkgOiBjb25zb2xlLmxvZyhgW25hdmJhciBmaXhdIGFscmVhZHkgb2ZmYCk7CiAgICAgICAgKGJ0bl9yZWFkX29uKSA/IHJlYWRhYmlsaXR5TW9kZSgpIDogY29uc29sZS5sb2coYFtyZWFkYWJpbGl0eSBtb2RlXSBhbHJlYWR5IG9mZmApOwogICAgfQoKICAgIC8vIEJVVFRPTiBBQk9VVAogICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiI2Fhc21fY29udHJvbHMgI2J0bi1hYm91dCIpLmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIiwgYWJvdXRBbGVydCk7CiAgICBmdW5jdGlvbiBhYm91dEFsZXJ0KCkKICAgIHsKICAgICAgICB3aW5kb3cucHJvbXB0KGBBdWdtZW50ZWQtQVNNIHYke2Fhc212ZXJzaW9ufQpidWdzIGFuZC9vciByZXF1ZXN0cyBnbyB0b2AsICJHZW9yZ2UuRWR3YXJkc0Bjc2lyby5hdSIpOwogICAgfQoKICAgIC8vIEZJUlNUIFNMSURFUiAtIChTSVpFIE9GIFRBQiBDT05URU5UUykKICAgIHZhciBzbGlkZXJfY29udGVudHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIjYWFzbV9jb250cm9scyAjc2xpZGVyLWNvbnRlbnRzIik7CiAgICBzbGlkZXJfY29udGVudHMub25pbnB1dCA9IGZ1bmN0aW9uKCkKICAgIHsKICAgICAgICBsZXQgdGFicyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoIi50YWIiKTsKICAgICAgICBsZXQgdGFic19pY29uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgiLnRhYi1sYWJlbC1pbWFnZSIpOwogICAgICAgIGxldCB0YWJzX3RleHQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCIudGFiLWxhYmVsLXRleHQiKTsKICAgICAgICBsZXQgdGFic19jbG9zZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoIi50YWItbGFiZWwtY2xvc2UiKTsKICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRhYnNfdGV4dC5sZW5ndGg7IGkrKykKICAgICAgICB7CiAgICAgICAgICAgIHRhYnNfaWNvbltpXS5zdHlsZS53aWR0aCA9IHNsaWRlcl9jb250ZW50cy52YWx1ZSArICJyZW0iOwogICAgICAgICAgICB0YWJzX2ljb25baV0uc3R5bGUuaGVpZ2h0ID0gc2xpZGVyX2NvbnRlbnRzLnZhbHVlICsgInJlbSI7CiAgICAgICAgICAgIHRhYnNfdGV4dFtpXS5zdHlsZS5mb250U2l6ZSA9IHNsaWRlcl9jb250ZW50cy52YWx1ZSArICJyZW0iOwogICAgICAgICAgICB0YWJzX3RleHRbaV0uc3R5bGUubWFyZ2luTGVmdCA9IHNsaWRlcl9jb250ZW50cy52YWx1ZSArICJyZW0iOwogICAgICAgICAgICB0YWJzX3RleHRbaV0uc3R5bGUubWFyZ2luUmlnaHQgPSBzbGlkZXJfY29udGVudHMudmFsdWUgKyAicmVtIjsKICAgICAgICAgICAgdGFic19jbG9zZVtpXS5zdHlsZS53aWR0aCA9IHNsaWRlcl9jb250ZW50cy52YWx1ZSArICJyZW0iOwogICAgICAgICAgICB0YWJzX2Nsb3NlW2ldLnN0eWxlLmhlaWdodCA9IHNsaWRlcl9jb250ZW50cy52YWx1ZSArICJyZW0iOwogICAgICAgIH0KICAgIH0KICAgIC8vIFNFQ09ORCBTTElERVIgLSAoVEFCIE1BWC1XSURUSCkKICAgIHZhciBzbGlkZXJfbWF4d2lkdGggPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIjYWFzbV9jb250cm9scyAjc2xpZGVyLW1heHdpZHRoIik7CiAgICBzbGlkZXJfbWF4d2lkdGgub25pbnB1dCA9IGZ1bmN0aW9uKCkKICAgIHsKICAgICAgICBsZXQgdGFic190ZXh0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgiLnRhYi1sYWJlbC10ZXh0Iik7CiAgICAgICAgbGV0IG1heF93aWR0aCA9IDUwICogc2xpZGVyX21heHdpZHRoLnZhbHVlOwogICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGFic190ZXh0Lmxlbmd0aDsgaSsrKQogICAgICAgIHsKICAgICAgICAgICAgdGFic190ZXh0W2ldLnN0eWxlLm1heFdpZHRoID0gbWF4X3dpZHRoICsgInJlbSI7CiAgICAgICAgfQogICAgfQoKICAgIC8vIFRISVJEIFNMSURFUiAtIChERVNDUklQVElPTikKICAgIHZhciBzbGlkZXJfZGVzY3JpcHRpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIjYWFzbV9jb250cm9scyAjc2xpZGVyLWRlc2NyaXB0aW9uIik7CiAgICBzbGlkZXJfZGVzY3JpcHRpb24udmFsdWUgPSAxLjM7CiAgICBzbGlkZXJfZGVzY3JpcHRpb24ub25pbnB1dCA9IGZ1bmN0aW9uKCkKICAgIHsKICAgICAgICAvLyBkZWZhdWx0IGlzIDE5cHgKICAgICAgICBsZXQgYXNtX2lmcmFtZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCIuYnVzeS1jb250ZW50Iik7CgogICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXNtX2lmcmFtZXMubGVuZ3RoOyBpKyspCiAgICAgICAgewogICAgICAgICAgICBpZiAoIWFzbV9pZnJhbWVzW2ldLmNvbnRlbnRXaW5kb3cuZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiW25hbWU9J01haW4nXSIpLmNvbnRlbnRXaW5kb3cuZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYGRlc2NyaXB0aW9uX2NzcyR7aX1gKSkgewogICAgICAgICAgICAgICAgLy8gY3JlYXRlIDxzdHlsZT4KICAgICAgICAgICAgICAgIGxldCBkZXNjcmlwdGlvbl9jc3MgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpOwogICAgICAgICAgICAgICAgZGVzY3JpcHRpb25fY3NzLnR5cGUgPSAidGV4dC9jc3MiOwogICAgICAgICAgICAgICAgZGVzY3JpcHRpb25fY3NzLnNldEF0dHJpYnV0ZSgiaWQiLCBgZGVzY3JpcHRpb25fY3NzJHtpfWApOwogICAgICAgICAgICAgICAgZGVzY3JpcHRpb25fY3NzLmlubmVySFRNTCA9ICIiOwogICAgICAgICAgICAgICAgYXNtX2lmcmFtZXNbaV0uY29udGVudFdpbmRvdy5kb2N1bWVudC5xdWVyeVNlbGVjdG9yKCJbbmFtZT0nTWFpbiddIikuY29udGVudFdpbmRvdy5kb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGRlc2NyaXB0aW9uX2Nzcyk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGlmIChzbGlkZXJfZGVzY3JpcHRpb24udmFsdWUgIT0gMS4zKSB7CiAgICAgICAgICAgICAgICBhc21faWZyYW1lc1tpXS5jb250ZW50V2luZG93LmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIltuYW1lPSdNYWluJ10iKS5jb250ZW50V2luZG93LmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGBkZXNjcmlwdGlvbl9jc3Mke2l9YCkuaW5uZXJIVE1MID0gYAogICAgICAgICAgICAgICAgLmUtcm93Y2VsbCAuc3RyaW5nLWNvbnRhaW5lciB7CiAgICAgICAgICAgICAgICAgIG1heC1oZWlnaHQ6ICR7c2xpZGVyX2Rlc2NyaXB0aW9uLnZhbHVlfXJlbTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIC5lLXJvdyB7CiAgICAgICAgICAgICAgICAgIG91dGxpbmU6IDFweCBzb2xpZDsKICAgICAgICAgICAgICAgIH1gCiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBhc21faWZyYW1lc1tpXS5jb250ZW50V2luZG93LmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIltuYW1lPSdNYWluJ10iKS5jb250ZW50V2luZG93LmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGBkZXNjcmlwdGlvbl9jc3Mke2l9YCkuaW5uZXJIVE1MID0gYAogICAgICAgICAgICAgICAgLmUtcm93Y2VsbCAuc3RyaW5nLWNvbnRhaW5lciB7CiAgICAgICAgICAgICAgICAgIG1heC1oZWlnaHQ6ICR7c2xpZGVyX2Rlc2NyaXB0aW9uLnZhbHVlfXJlbTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIC5lLXJvdyB7CiAgICAgICAgICAgICAgICAgIG91dGxpbmU6IG5vbmU7CiAgICAgICAgICAgICAgICB9YAogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfQoKICAgIC8vIEtFWUJPQVJEIFNOQVAgVE8KICAgIC8vIFNUVUIKICAgIC8qCiAgICBmdW5jdGlvbiBrZXlib2FyZF9zbmFwKCkKICAgIHsKICAgICAgICBsZXQgYXNtX2lmcmFtZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCIuYnVzeS1jb250ZW50Iik7CiAgICAgICAgbGV0IG15TmFtZXMgPSBhc21faWZyYW1lc1szXS5jb250ZW50V2luZG93LmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIiNNYWluIikuY29udGVudFdpbmRvdy5kb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCIjU1BBTl9JTl9PRkZJQ0VSU18gLmUtbGlzdC1pdGVtLmUtbGV2ZWwtMSAuZS10ZXh0LWNvbnRlbnQuZS1pY29uLXdyYXBwZXIgaW1nK3NwYW4gZGl2IHNwYW4iKTsKICAgIH0KICAgICovCgoKICAgIC8qCiAgICBMT0cgVVNFIE9GIFRISVMgVE9PTDoKICAgIEkgd2FzIGdvaW5nIHRvIGxvZyBzb21lIGJhc2ljIGFuYWx5dGljcyBieSBzZW5kaW5nIHRoZSBjdXJyZW50IHVzZXIgYW5kIGN1cnJlbnQgdGltZSAoanNvbiBkYXRhKSB0byBhbiBodHRwIHNlcnZlci4KICAgIFVuZm9ydHVuYXRlbHkgQVNNIGhhcyBhIHdhdGNoZG9nIHNjcmlwdCB0aGF0IGRpc2FsbG93cyBQT1NUJ2luZ3MgdG8gY3VzdG9tIFVSTHMuIFRoZSBleGFjdCBlcnJvciByZWFkczoKICAgICAgICJSZWZ1c2VkIHRvIGNvbm5lY3QgdG8gImxvY2FsaG9zdDozMDAwIjogVVJMIGlzIG5vdCBwZXJtaXR0ZWQ6IFVSTCBjYW4gbm90IGJlIHBhcnNlZCIKCgogICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiI2Fhc21fY29udHJvbHMgI2J0bi1sb2ciKS5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsIGxvZ191c2FnZSk7CiAgICBmdW5jdGlvbiBsb2dfdXNhZ2UoKSB7CiAgICAgICAgbGV0IHVzZXJEYXRhID0KICAgICAgICAgICAgewogICAgICAgICAgICAgICAgJ25hbWUnIDogT0ZGSUNFUl9OQU1FLnZhbHVlLAogICAgICAgICAgICAgICAgJ3RpbWUnIDogRGF0ZS5ub3coKQogICAgICAgICAgICB9OwogICAgICAgIEdNX3htbGh0dHBSZXF1ZXN0ICh7CiAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLAogICAgICAgICAgICB1cmw6ICdsb2NhbGhvc3Q6MzAwMCcsCiAgICAgICAgICAgIGhlYWRlcnM6IHsgIkNvbnRlbnQtVHlwZSI6ICJhcHBsaWNhdGlvbi9qc29uIiB9LAogICAgICAgICAgICBkYXRhOiBKU09OLnN0cmluZ2lmeSh1c2VyRGF0YSkKICAgICAgICB9KQogICAgfQogICAgKi8KCiAgICBmdW5jdGlvbiBhdWdtZW50ZWRfYXNtX2RhZW1vbigpewogICAgICAgIGlmIChidG5fcmVhZF9vbikgewogICAgICAgICAgICBjb25zb2xlLmxvZygiUmVhZGFiaWxpdHkgTW9kZTogc2Nhbm5pbmcgZm9yIG5ldyB0YWJzIGFuZCBhcHBseWluZyIpOwogICAgICAgICAgICByZWFkYWJpbGl0eU1vZGUuYWN0aW9uKHRydWUpOwogICAgICAgIH0KICAgIH0KCiAgICBhdWdtZW50ZWRfYXNtX2RhZW1vbigpOwoKICAgIHNldEludGVydmFsKGZ1bmN0aW9uKCl7CiAgICAgICAgYXVnbWVudGVkX2FzbV9kYWVtb24oKQogICAgfSwgMTAwMDApCgp9KSgpOwoK"}]}